<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">

<!-- Dongle í°íŠ¸ + ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìœ ì§€ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">

<title>ë¸Œë¡œë“œì»´ ë¬¸ì„œ ë·°ì–´ & ë‹¤ìš´ë¡œë“œ</title>

<style>
  a {
    text-decoration: none !important;
  }
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: #f3f4f6;
    margin: 0;
    padding: 6px 40px 10px 40px;
    color:#333;
  }
  .dongle-regular {
    font-family: "Dongle", sans-serif;
    font-weight: 400;
    font-style: normal;
  }

  /* ğŸ”¹ ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ */
  .top-nav {
    display: flex;
    justify-content: space-between;  /* ì¢Œì¸¡-ìš°ì¸¡ ë°°ì¹˜ */
    gap: 4px;
    margin-bottom: -10px;
  }
  .nav-right {
    display: flex;
    gap: 4px;
  }

  .nav-btn {
    background: #1e3a5f; color: white; border: none; border-radius: 8px;
    padding: 4px 8px; height: 12px; line-height: 10px;
    cursor: pointer; font-weight: 400; font-size: 0.75rem;
    text-decoration: none; transition: background 0.2s;
  }
  .nav-btn-soon {
    background: #98A1BC; color: #555879; border: none; border-radius: 8px;
    padding: 4px 8px; height: 12px; line-height: 10px;
    cursor: pointer; font-weight: 400; font-size: 0.75rem;
    text-decoration: none; transition: background 0.2s;
  }

  .nav-btn:hover {
    background: linear-gradient(135deg, #FF0066, #0046FF);
  }

  /* ---------- í—¤ë” ---------- */
  .header-wrap {
    position: sticky;
    top: 0;
    z-index: 10;
    background: #f3f4f6;
  }
  h1 {
    font-size: 1.5em;
    background: #1e3a5f;
    color: white;
    padding: 12px 18px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;  /* ì¢Œìš° ë°°ì¹˜ */
    align-items: flex-end;            /* ì•„ë˜ ì •ë ¬ */
    margin-bottom: 5pt;
  }
  .header-wrap {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: #f3f4f6;
    transition: all 0.25s ease;
  }

  .title-left {
    font-size: 1.6em;
    line-height: 0.7;
    margin-bottom: 0;
  }

  .subtitle {
    font-size: 0.7em;
    font-weight: normal;
    color: #bcd0f7;
    opacity: 0.9;
    margin-top: 2px;
    display: block;
  }
  
  .date-container {
    text-align: right;
    line-height: 1.2;
  }

  .version {
    font-size: 24px;
    color: #bcd0f7;
    opacity: 0.9;
  }
  .date-header {
    font-size: 20px;
    color: #fff;
    margin: 0;
  }

  /* ---------- ì „ì²´ 2ë‹¨ ë ˆì´ì•„ì›ƒ ---------- */
  .layout {
    display: flex;
    gap: 22px;
    margin-top: 14px;
  }

  /* ---------- ì¢Œì¸¡ íŒ¨ë„ ---------- */
  .left-card {
    width: 220px;
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    padding: 10px 16px 22px 16px;
  }

  .left-card h4 {
    margin: 0 0 8px;
    color: #1e3a5f;
    font-size: 1rem;
    display: flex;
    align-items: center;
  }

  /* ---------- ë©”ì¸ ì¥ë¹„ ë²„íŠ¼ ---------- */
  .doc-btn {
    width: 100%;
    padding: 10px 8px;
    margin-bottom: 6px;
    font-size: 0.8rem;
    background: #e2e8f0;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    text-align: left;
    display: flex;
    gap: 8px;
    align-items: center;
    transition: background 0.2s, transform 0.15s;
    --btn-color: #2563eb;
  }

  .doc-btn:hover {
    background: #cbd5e1;
    transform: translateY(-2px);
  }

  .doc-btn.active {
    background: var(--btn-color) !important;
    color: white;
  }

  .doc-btn svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
    stroke-width: 1.8;
    fill: none;
    opacity: 0.9;
    transition: 0.25s;
  }

  .doc-btn.active svg {
    stroke: #fff;
  }

  /* Hover Glow */
  .doc-btn:hover svg {
    filter: drop-shadow(0 0 6px var(--btn-color));
    transform: scale(1.08);
  }

  /* ---------- ì„œë¸Œë©”ë‰´ ì»¨í…Œì´ë„ˆ ---------- */
  .submenu-container {
    margin: 2px 0 10px 6px;
    padding: 8px 8px 9px 8px;
    border-radius: 10px;
    border: 1px solid #cbd5e1;
    background: rgba(148,163,184,0.08);
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transform: translateY(-4px);
    transition: all 0.22s ease-out;
    font-size: 0.7rem;
  }

  .submenu-container.open {
    max-height: 260px;
    opacity: 1;
    transform: translateY(0);
  }

  .submenu-row {
    display: flex;
    gap: 4px;
    margin-bottom: 6px;
  }

  .submenu-btn {
    flex: 1;
    padding: 7px 8px;
    font-size: 0.7rem;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: space-between;
    background: #e5e7eb;
    color: #111827;
    transition: background 0.18s, transform 0.12s, box-shadow 0.12s;
    white-space: nowrap;
  }

  .submenu-btn:hover {
    background: #e0e7ff;
    transform: translateY(-0.5px);
    box-shadow: 0 1px 3px rgba(15,23,42,0.18);
  }

  .submenu-btn-main {
    flex: 1.4;
  }

  .submenu-btn-pdf {
    flex: 0.9;
    background: #cc0d2f;
    color: #fff;
    padding: 7px 8px;
  }

  .submenu-btn-pdf:hover {
    background: #950a23;
  }

  .submenu-link-row {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .submenu-link-label {
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }

  .submenu-link-text {
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* â†— ì•„ì´ì½˜ ë°°ê²½ ì› */
  .submenu-link-icon-wrap {
    width: 18px;
    height: 18px;
    border-radius: 999px;
    background: rgba(15,23,42,0.08);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .submenu-link-icon {
    width: 10px;
    height: 10px;
    transition: transform 0.18s ease-out;
  }

  .submenu-btn:hover .submenu-link-icon {
    transform: rotate(25deg);
  }
  
  .submenu-pdf-sw {
      flex: 1;
      min-width: 30%;     /* ë‘ ê°œë¥¼ í•œ rowì— ê³ ì • */
      max-width: 50%;
      padding: 6px 6px;   /* ê°€ë¡œ íŒ¨ë”© ì¤„ì„ */
      font-size: 0.67rem; /* ê¸€ì í¬ê¸° ê°ì†Œ */
  }


  /* ---------- ìš°ì¸¡ iframe ì¹´ë“œ ---------- */
  .right-card {
    flex: 1;
    background: #ffffff;
    border-radius: 14px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    padding-bottom: 6px;
    display: flex;
    flex-direction: column;
  }

  .iframe-header {
    background: #1e3a5f;
    color: white;
    padding: 8px 20px;
    border-radius: 14px 14px 0 0;

    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .kb-link-btn {
    background: #cc0d2f;
    color: white;
    border: none;
    padding: 4px 8px;
    border-radius: 8px;
    font-size: 0.65rem;
    cursor: pointer;
  }

  .kb-link-btn:disabled {
    opacity: 0.4;
    cursor: default;
  }

  .iframe-wrapper {
    position: relative;
    height: 700px;
    background: #f3f4f6;
    border-radius: 0 0 14px 14px;
  }

  iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: none;
  }

  .loader {
    position: absolute;
    top: 50%; left: 50%;
    width: 44px; height: 44px;
    transform: translate(-50%, -50%);
    border: 4px solid #dcdcdc;
    border-top: 4px solid #1e3a5f;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    display: none;
  }
  @keyframes spin { to { transform: translate(-50%, -50%) rotate(360deg); } }

  .placeholder {
    position: absolute;
    top: 20%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.1rem;
    color: #6b7280;
    text-align: center;
  }
</style>
</head>

<body>
<!-- ê³µí†µ í—¤ë” + ì œëª© + ë²„ì „ -->
<script>
  window.pageTitle = "ë¸Œë¡œë“œì»´ ë§í¬";
  window.pageVersion = "ver.2025.11.20.01";
</script> 
<script src="https://etech-symantec.github.io/header.js"></script>
  
<div class="layout">

  <!-- ì¢Œì¸¡ UI -->
  <div class="left-card">
    <h4>ğŸ“¥ ì¥ë¹„ ì„ íƒ</h4>
    
    <!-- ISG -->
    <button class="doc-btn" onclick="selectDoc('isg', this)" data-color="#FACC15">
      <svg viewBox="0 0 24 24">
        <rect x="3" y="4" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.6" fill="none"/>
        <rect x="6" y="7" width="5" height="4" rx="1" fill="currentColor" opacity="0.7"/>
        <rect x="13" y="7" width="5" height="4" rx="1" fill="currentColor" opacity="0.7"/>
        <rect x="6" y="13" width="12" height="4" rx="1" fill="currentColor" opacity="0.4"/>
      </svg>
      ISG
    </button>


    <!-- ProxySG -->
    <button class="doc-btn" onclick="selectDoc('proxysg', this)" data-color="#2563eb">
      <svg viewBox="0 0 24 24">
        <rect x="3" y="5" width="18" height="14" rx="2"></rect>
        <circle cx="8" cy="12" r="2.4"></circle>
      </svg>
      ProxySG
    </button>
    
    <!-- CAS/MA -->
    <button class="doc-btn" onclick="selectDoc('casma', this)" data-color="#10b981">
      <svg viewBox="0 0 24 24">
        <path d="M4 4h8l4 4v12H4z"></path>
        <circle cx="14" cy="10" r="2.2"></circle>
      </svg>
      CA / MA
    </button>
    
    <!-- MC -->
    <button class="doc-btn" onclick="selectDoc('mc', this)" data-color="#8b5cf6">
      <svg viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M12 2v3M12 19v3M4 12h3M17 12h3M5 5l2 2M17 17l2 2M5 19l2-2M17 7l2-2"/>
      </svg>
      Management Center
    </button>
    
    <!-- Reporter -->
    <button class="doc-btn" onclick="selectDoc('reporter', this)" data-color="#f59e0b">
      <svg viewBox="0 0 24 24">
        <rect x="4" y="10" width="3" height="8" rx="1"></rect>
        <rect x="10" y="6" width="3" height="12" rx="1"></rect>
        <rect x="16" y="4" width="3" height="14" rx="1"></rect>
      </svg>
      Reporter
    </button>
    
    <!-- SSLV (í†µí•©) -->
    <button class="doc-btn" onclick="selectDoc('sslv', this)" data-color="#3b82f6">
      <svg viewBox="0 0 24 24">
        <path d="M6 10V7a6 6 0 1112 0v3"></path>
        <rect x="6" y="10" width="12" height="10" rx="2"></rect>
      </svg>
      SSL Visibility
    </button>
    
    <!-- PacketShaper (í†µí•©) -->
    <button class="doc-btn" onclick="selectDoc('packetshaper', this)" data-color="#0ea5e9">
      <svg viewBox="0 0 24 24">
        <path d="M3 15c3-6 6 6 9 0s6 6 9 0" stroke-width="2" fill="none"></path>
      </svg>
      PacketShaper
    </button>

    <!-- ì„œë¸Œë©”ë‰´ëŠ” JSì—ì„œ ë™ì ìœ¼ë¡œ ì‚½ì… -->

  </div>

  <!-- ìš°ì¸¡ iframe ì˜ì—­ -->
  <div class="right-card">
    <div class="iframe-header">
      <span>ğŸ“„ Broadcom KB Preview</span>
      <button class="kb-link-btn" id="kbLinkBtn" onclick="openKB()" disabled>ğŸ”— ì›ë³¸ í˜ì´ì§€</button>
    </div>

    <div class="iframe-wrapper">
      <div id="placeholder" class="placeholder">í™•ì¸í•  ì¥ë¹„ë¥¼ ì„ íƒí•œ í›„,<br>EoS ë¬¸ì„œë¥¼ í´ë¦­í•´ ì£¼ì„¸ìš”.</div>
      <div class="loader" id="loader"></div>
      <iframe id="kbFrame"></iframe>
    </div>
  </div>

</div>

<script>
/* ì¥ë¹„ë³„ ì„¤ì • (EoS URL, PDF ID, ë§í¬ ë“±) */
const deviceConfig = {
    
  /* ------------------------------------------------------
      ISG
     ------------------------------------------------------ */
  isg: {
    color: "#FCC61D",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/151102/end-of-life-and-product-lifecycle-for-pr.html",
    eosFileId: "1984583920084",
    release:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/integrated-secure-gateway/2-5/25-release-notes.html",
    features:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/integrated-secure-gateway/2-5/25-release-notes/25-whats-new.html",
    downloads210: "https://support.broadcom.com/group/ecx/productdownloads?subfamily=SSP-S210%20PLATFORM",
    downloads410: "https://support.broadcom.com/group/ecx/productdownloads?subfamily=SSP-S410%20PLATFORM"

  },
    
  /* ------------------------------------------------------
      ProxySG
     ------------------------------------------------------ */
  proxysg: {
    color: "#2563eb",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/151102/end-of-life-and-product-lifecycle-for-pr.html",
    eosFileId: "1984583920084",
    release:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/edge-swg/7-3/what-s-new-in-proxysg-7-3/features-listed-by-release.html",
    features:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/edge-swg/7-3/what-s-new-in-proxysg-7-3/features-summary-table.html",
    downloads:
      "https://support.broadcom.com/group/ecx/productdownloads?subfamily=ISG+Proxy&tab=Products"
  },

  /* ------------------------------------------------------
      CA / MA
     ------------------------------------------------------ */
  casma: {
    color: "#10b981",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/151099/endoflife-information-for-content-analys.html",
    eosFileId: "1782202017240",
    release:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/content-analysis/3-2/rn-cas-3-2-x-intro1.html",
    features:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/content-analysis/3-2/new_features/rn-cas-new-features-3-2-1-1.html",
    downloads:
      "https://support.broadcom.com/group/ecx/productdownloads?subfamily=ISG%20Content%20Analysis"
  },

  /* ------------------------------------------------------
      Management Center
     ------------------------------------------------------ */
  mc: {
    color: "#8b5cf6",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/151106/end-of-life-for-management-center-and-re.html",
    eosFileId: "1761064867057",
    release:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/management-center/4-1/pdf_first.html",
    features:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/management-center/4-1/4x-release-notes/4x-whats-new.html",
    downloads:
      "https://support.broadcom.com/group/ecx/productdownloads?subfamily=Management%20Center"
  },

  /* ------------------------------------------------------
      Reporter
     ------------------------------------------------------ */
  reporter: {
    color: "#BF124D",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/386552/end-of-life-for-reporter.html",
    eosFileId: "1762093086557",
    release:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/reporter/11-0/RNFirstPage.html",
    features:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/reporter/11-0/about-reporter-11.html",
    downloads:
      "https://support.broadcom.com/group/ecx/productdownloads?subfamily=Reporter-S500"
  },

  /* ------------------------------------------------------
      SSLV (í†µí•©)  â€“ EoS iframe + PDF H/W / S/W ë‚˜ëˆ”
     ------------------------------------------------------ */
  sslv: {
    color: "#016B61",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/233783/end-of-life-and-product-lifecycle-for-ss.html",
    pdfHw: "2048870679775",   // H/W EoL PDF
    pdfSw: "1532624862427",   // S/W EoL PDF
    release:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/ssl-visibility/6-1/6x-release-notes.html",
    features:
      "https://techdocs.broadcom.com/us/en/symantec-security-software/web-and-network-security/ssl-visibility/6-1/6x-release-notes/6x-whats-new.html",
    downloads: ""  // ì•„ì§ ë³„ë„ ë‹¤ìš´ë¡œë“œ ë§í¬ ì—†ìŒ â†’ ë²„íŠ¼ í´ë¦­ ì‹œ ì•ˆë‚´
  },

  /* ------------------------------------------------------
      PacketShaper (í†µí•©) â€“ EoS iframe + PDF H/W / S/W ë‚˜ëˆ”
     ------------------------------------------------------ */
  packetshaper: {
    color: "#F875AA",
    eosUrl:
      "https://knowledge.broadcom.com/external/article/151110/packetshaper-endoflife-documents.html",
    pdfHw: "897029641901",   // H/W EoL PDF
    pdfSw: "874655704489",   // S/W EoL PDF
    release:
      "",
    features:
      "",
    downloads:
      "https://support.broadcom.com/group/ecx/productdownloads?subfamily=PacketShaper%20S-Series"
  }
};

let currentDeviceId = null;

/* ì¥ë¹„ ë²„íŠ¼ í´ë¦­ */
function selectDoc(deviceId, btnElem) {
  // ê¸°ì¡´ active ì œê±°
  document.querySelectorAll(".doc-btn").forEach(b => {
    b.classList.remove("active");
  });

  const cfg = deviceConfig[deviceId] || {};
  const color = cfg.color || btnElem.getAttribute("data-color") || "#2563eb";

  // ì„ íƒ ë²„íŠ¼ active + ìƒ‰ìƒ ë°˜ì˜
  btnElem.classList.add("active");
  btnElem.style.setProperty("--btn-color", color);

  // ê¸°ì¡´ ì„œë¸Œë©”ë‰´ ì œê±°
  document.querySelectorAll(".submenu-container").forEach(el => el.remove());

  // ì„œë¸Œë©”ë‰´ ìƒì„±
  const submenu = document.createElement("div");
  submenu.className = "submenu-container";

  submenu.innerHTML = `
    <div class="submenu-row">
      <button class="submenu-btn submenu-btn-main submenu-eos">
        <span>â­ EoL</span>
      </button>
      <button class="submenu-btn submenu-btn-pdf submenu-pdf">
        <span>PDF</span>
      </button>
    </div>
    <div class="submenu-link-row">
      <button class="submenu-btn submenu-link submenu-release">
        <span class="submenu-link-label">
          <span class="submenu-link-text">Release Notes</span>
          <span class="submenu-link-icon-wrap">
            <svg class="submenu-link-icon" viewBox="0 0 16 16">
              <path d="M5 11L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M7 5H11V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </span>
      </button>
      <button class="submenu-btn submenu-link submenu-features">
        <span class="submenu-link-label">
          <span class="submenu-link-text">Features Summary</span>
          <span class="submenu-link-icon-wrap">
            <svg class="submenu-link-icon" viewBox="0 0 16 16">
              <path d="M5 11L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M7 5H11V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </span>
      </button>
      <button class="submenu-btn submenu-link submenu-downloads">
        <span class="submenu-link-label">
          <span class="submenu-link-text">Downloads</span>
          <span class="submenu-link-icon-wrap">
            <svg class="submenu-link-icon" viewBox="0 0 16 16">
              <path d="M5 11L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M7 5H11V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </span>
      </button>
    </div>
  `;

  // ìŠ¤íƒ€ì¼ ë³´ì •
  submenu.style.borderColor = color;
  submenu.style.boxShadow = `0 0 0 1px ${hexWithAlpha(color, 0.20)}`;

  const eosBtn = submenu.querySelector(".submenu-eos");
  eosBtn.style.backgroundColor = color;
  eosBtn.style.color = "#fff";

  const pdfBtn       = submenu.querySelector(".submenu-pdf");
  const releaseBtn   = submenu.querySelector(".submenu-release");
  const featuresBtn  = submenu.querySelector(".submenu-features");
  const downloadsBtn = submenu.querySelector(".submenu-downloads");
  const row          = submenu.querySelector(".submenu-row");

  // ì¥ë¹„ ë²„íŠ¼ ë°”ë¡œ ì•„ë˜ì— ì‚½ì…
  btnElem.insertAdjacentElement("afterend", submenu);

  // ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜
  requestAnimationFrame(() => submenu.classList.add("open"));

  // EoS ë¬¸ì„œ â†’ iframe ë¡œë”©
  eosBtn.addEventListener("click", () => {
    loadDoc(deviceId);
  });

  // PDF ë²„íŠ¼ ì„¤ì •
  if (cfg.pdfHw && cfg.pdfSw) {
    // SSLV / PacketShaper : H/W, S/W ë‘ ê°œë¡œ ë¶„ë¦¬
    pdfBtn.textContent = "PDF H/W";
    const pdfBtnSw = pdfBtn.cloneNode(true);
    pdfBtnSw.textContent = "PDF S/W";
    pdfBtnSw.classList.add("submenu-pdf-sw");
    row.appendChild(pdfBtnSw);

    pdfBtn.addEventListener("click", () => {
      downloadAttachment(cfg.pdfHw);
    });
    pdfBtnSw.addEventListener("click", () => {
      downloadAttachment(cfg.pdfSw);
    });
  } else {
    // ë‚˜ë¨¸ì§€ ì¥ë¹„ : ê¸°ë³¸ EoS PDF í•˜ë‚˜
    pdfBtn.textContent = "PDF";
    pdfBtn.addEventListener("click", () => {
      if (!cfg.eosFileId) {
        alert("ì´ ì¥ë¹„ì˜ EoS PDF IDê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
        return;
      }
      downloadAttachment(cfg.eosFileId);
    });
  }

  // ë§í¬ ë²„íŠ¼ ì²˜ë¦¬
  releaseBtn.addEventListener("click", ()   => openDocLink(deviceId, "release"));
  featuresBtn.addEventListener("click", ()  => openDocLink(deviceId, "features"));
  // ISGì˜ Downloads ë¶„ê¸° ì²˜ë¦¬
    if (deviceId === "isg") {
    
        const linkRow = submenu.querySelector(".submenu-link-row");
    
        // ê¸°ì¡´ downloadsBtnì„ submenu-link ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜
        downloadsBtn.className = "submenu-btn submenu-link submenu-downloads210";
        downloadsBtn.innerHTML = `
            <span class="submenu-link-label">
              <span class="submenu-link-text">Downloads (S210)</span>
              <span class="submenu-link-icon-wrap">
                <svg class="submenu-link-icon" viewBox="0 0 16 16">
                  <path d="M5 11L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <path d="M7 5H11V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </span>
            </span>
        `;
    
        const btn410 = downloadsBtn.cloneNode(true);
        btn410.className = "submenu-btn submenu-link submenu-downloads410";
        btn410.innerHTML = `
            <span class="submenu-link-label">
              <span class="submenu-link-text">Downloads (S410)</span>
              <span class="submenu-link-icon-wrap">
                <svg class="submenu-link-icon" viewBox="0 0 16 16">
                  <path d="M5 11L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <path d="M7 5H11V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </span>
            </span>
        `;
    
        // ì•„ë˜ ì¤„ë¡œ ì´ë™
        linkRow.appendChild(downloadsBtn);
        linkRow.appendChild(btn410);
    
        // ë§í¬ ì—°ê²°
        downloadsBtn.addEventListener("click", () =>
            openDocLink(deviceId, "downloads210")
        );
        btn410.addEventListener("click", () =>
            openDocLink(deviceId, "downloads410")
        );
    


    } else {
        // ê¸°ì¡´ ë¡œì§
        downloadsBtn.addEventListener("click", () =>
            openDocLink(deviceId, "downloads"));
    }
}

/* HEX + alpha í—¬í¼ */
function hexWithAlpha(hex, alpha) {
  const _hex = hex.replace("#", "");
  if (_hex.length !== 6) return hex;
  const r = parseInt(_hex.slice(0,2),16);
  const g = parseInt(_hex.slice(2,4),16);
  const b = parseInt(_hex.slice(4,6),16);
  return `rgba(${r},${g},${b},${alpha})`;
}

/* iframe ë¡œë”© */
function loadDoc(deviceId) {
  const iframe = document.getElementById("kbFrame");
  const loader = document.getElementById("loader");
  const placeholder = document.getElementById("placeholder");
  const linkBtn = document.getElementById("kbLinkBtn");

  const cfg = deviceConfig[deviceId] || {};
  currentDeviceId = deviceId;

  if (!cfg.eosUrl) {
    iframe.style.display = "none";
    loader.style.display = "none";
    placeholder.style.display = "block";
    linkBtn.disabled = true;
    return;
  }

  placeholder.style.display = "none";
  loader.style.display = "block";
  iframe.style.display = "none";
  linkBtn.disabled = false;

  iframe.src = cfg.eosUrl;
}

/* iframe ë¡œë“œ ì™„ë£Œ */
document.getElementById("kbFrame").addEventListener("load", () => {
  document.getElementById("loader").style.display = "none";
  document.getElementById("kbFrame").style.display = "block";
});

/* ì›ë³¸ KB í˜ì´ì§€ ìƒˆì°½ */
function openKB() {
  if (!currentDeviceId) return;
  const cfg = deviceConfig[currentDeviceId] || {};
  if (!cfg.eosUrl) return;
  window.open(cfg.eosUrl, "_blank");
}

/* Release / Features / Downloads ìƒˆì°½ */
function openDocLink(deviceId, type) {
  const cfg = deviceConfig[deviceId] || {};
  const url = cfg[type];

  if (!url) {
    alert("í•´ë‹¹ ì¥ë¹„ì˜ " + type + " ë§í¬ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }
  window.open(url, "_blank");
}

/* EoS PDF ë‹¤ìš´ë¡œë“œ */
function downloadAttachment(uniqueId) {
  if (!uniqueId) {
    alert("uniqueFileIdê°€ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }

  const apiUrl =
    "https://api-broadcomcms-software.wolkenservicedesk.com/es/attachments/download_attachment?domain=broadcomcms-software.wolkenservicedesk.com";

  const form = document.createElement("form");
  form.method = "post";
  form.action = apiUrl;
  form.target = "_self";

  const hidden = document.createElement("input");
  hidden.type = "hidden";
  hidden.name = "data";
  hidden.value = JSON.stringify({ uniqueFileId: uniqueId });

  form.appendChild(hidden);
  document.body.appendChild(form);
  form.submit();
  form.remove();
}
</script>

</body>
</html>
